{"version":3,"file":"static/js/881.ca0097a8.chunk.js","mappings":"uQACA,EAAuB,qBAAvB,EAAqD,uBAArD,EAAmF,qBAAnF,EAA+G,qBAA/G,EAA4I,sBAA5I,EAA2K,uB,SC2E3K,EAtEe,WACb,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA8BP,EAAAA,EAAAA,WAAS,GAAvC,eAAOQ,EAAP,KAAgBC,EAAhB,KAaMC,EAAcJ,EAAaK,IAAI,UAErCC,EAAAA,EAAAA,YAAU,WAAM,wCAGd,mGAEIV,EAFJ,UAEoBW,EAAAA,EAAAA,IAAeH,GAFnC,kFAIII,QAAQC,IAAR,MAJJ,yBAMIN,GAAW,GANf,6EAHc,sBACTC,IACLD,GAAW,GAFG,mCAYdO,GACD,GAAE,CAACN,IAEJ,IAAMO,GAAWC,EAAAA,EAAAA,MAEjB,OACE,iBAAKC,UAAWC,EAAhB,WACE,kBAAMC,SA5BK,SAAAC,GACbA,EAAEC,iBAEFhB,EAAgB,CAAEJ,MAAOA,IACzBC,EAAS,GACV,EAuBG,WACE,kBACEe,UAAWC,EACXI,KAAK,OACLC,MAAOtB,EACPuB,SArCS,SAAAJ,GACflB,EAASkB,EAAEK,cAAcF,MAAMG,cAChC,KAqCK,mBAAQT,UAAWC,EAAYI,KAAK,SAApC,uBAIDhB,IAAW,SAACqB,EAAA,EAAD,IACO,IAAlB5B,EAAO6B,SAAgB,kEACvB7B,IACC,eAAIkB,UAAWC,EAAf,SACGnB,EAAO8B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,eAAad,UAAWC,EAAxB,UACE,SAAC,KAAD,CACED,UAAWC,EACXc,GAAE,kBAAaF,GACfG,MAAO,CAAEC,KAAMnB,GAHjB,SAKGgB,KANID,EADC,QAerB,C,8LCxEKK,EAAM,gCACNC,EAAM,mCAECC,EAAW,mCAAG,sGACFC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,sCACeC,EADf,oBADE,uBACjBG,EADiB,EACjBA,KADiB,kBAIlBA,EAAKC,SAJa,2CAAH,qDAOjB,SAAe7B,EAAtB,+CAAO,OAAP,oBAAO,WAA8BV,GAA9B,yFACkBqC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iCACUC,EADV,kBACuBnC,EADvB,+CADlB,uBACGsC,EADH,EACGA,KADH,kBAIEA,EAAKC,SAJP,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BX,GAA1B,yFACkBQ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iBACNL,EADM,oBACQM,EADR,oBADlB,uBACGG,EADH,EACGA,KADH,kBAIEA,GAJF,kEAOA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAsBZ,GAAtB,yFACkBQ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACLL,EADK,4BACiBM,EADjB,oBADlB,uBACGG,EADH,EACGA,KADH,kBAIEA,EAAKI,MAJP,kEAOA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAyBd,GAAzB,yFACkBQ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACLL,EADK,4BACiBM,EADjB,2BADlB,uBACGG,EADH,EACGA,KADH,kBAIEA,EAAKM,QAJP,kE","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","service/api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"movies\":\"Movies_movies__TE99a\",\"item\":\"Movies_item__Ba4aJ\",\"link\":\"Movies_link__MzAfU\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { getSearchQuery } from 'service/api';\nimport Loader from 'components/Loader/Loader';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n\n  const onChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const submit = e => {\n    e.preventDefault();\n\n    setSearchParams({ query: query });\n    setQuery('');\n  };\n\n  const movieSearch = searchParams.get('query');\n\n  useEffect(() => {\n    if (!movieSearch) return;\n    setLoading(true);\n    async function renderMovies() {\n      try {\n        setMovies(await getSearchQuery(movieSearch));\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    renderMovies();\n  }, [movieSearch]);\n\n  const location = useLocation();\n\n  return (\n    <div className={css.list}>\n      <form onSubmit={submit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          value={query}\n          onChange={onChange}\n        />\n        <button className={css.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {loading && <Loader />}\n      {movies.length === 0 && <h2>No movies found for your search query</h2>}\n      {movies && (\n        <ul className={css.movies}>\n          {movies.map(({ id, title }) => (\n            <li key={id} className={css.item}>\n              <Link\n                className={css.link}\n                to={`/movies/${id}`}\n                state={{ from: location }}\n              >\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3/';\nconst KEY = '13e2a29aed9f0226aba2a38fa096c989';\n\nexport const getTrending = async () => {\n  const { data } = await axios.get(\n    `${URL}trending/movie/day?api_key=${KEY}&language=en-US`\n  );\n  return data.results;\n};\n\nexport async function getSearchQuery(query) {\n  const { data } = await axios.get(\n    `${URL}/search/movie?api_key=${KEY}&query=${query}&include_adult=false&language=en-US&page=1`\n  );\n  return data.results;\n}\n\nexport async function getDetails(id) {\n  const { data } = await axios.get(\n    `${URL}movie/${id}?api_key=${KEY}&language=en-US`\n  );\n  return data;\n}\n\nexport async function geCast(id) {\n  const { data } = await axios.get(\n    `${URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  );\n  return data.cast;\n}\n\nexport async function getReview(id) {\n  const { data } = await axios.get(\n    `${URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return data.result;\n}\n"],"names":["useState","movies","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","loading","setLoading","movieSearch","get","useEffect","getSearchQuery","console","log","renderMovies","location","useLocation","className","css","onSubmit","e","preventDefault","type","value","onChange","currentTarget","toLowerCase","Loader","length","map","id","title","to","state","from","URL","KEY","getTrending","axios","data","results","getDetails","geCast","cast","getReview","result"],"sourceRoot":""}